# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –í–µ—Ä—Ç—É—à–∫–∞

## üóÇÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞–ø–∫–∏

```
–í–µ—Ä—Ç—É—à–∫–∞/
‚îú‚îÄ‚îÄ Backend/          ‚Üê üêç FastAPI –±—ç–∫–µ–Ω–¥ (Python)
‚îî‚îÄ‚îÄ Mobile/           ‚Üê üì± –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Expo/React Native)
```

---

## üêç Backend (`–í–µ—Ä—Ç—É—à–∫–∞/Backend/`)

### –ì–¥–µ —Ä–∞–±–æ—Ç–∞—Ç—å:
- **API endpoints**: `app/api/` - –∑–¥–µ—Å—å –≤—Å–µ —Ä–æ—É—Ç—ã (auth.py, records.py, collections.py, wishlists.py)
- **–ú–æ–¥–µ–ª–∏ –ë–î**: `app/models/` - SQLAlchemy –º–æ–¥–µ–ª–∏
- **–°—Ö–µ–º—ã**: `app/schemas/` - Pydantic —Å—Ö–µ–º—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **–°–µ—Ä–≤–∏—Å—ã**: `app/services/` - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, discogs.py)
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `app/config.py`, `app/database.py`
- **–ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª**: `app/main.py` - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI

### –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ:
```bash
cd –í–µ—Ä—Ç—É—à–∫–∞/Backend
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
uvicorn app.main:app --reload
```

### –î–µ–ø–ª–æ–π –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω:
```bash
# –° –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã
git push && ssh deploy@85.198.85.12 'cd ~/vertushka && bash –í–µ—Ä—Ç—É—à–∫–∞/Backend/scripts/deploy.sh'
```

**–ü—Ä–æ–¥–∞–∫—à–µ–Ω API**: `https://api.vinyl-vertushka.ru/api`

---

## üì± Mobile (`–í–µ—Ä—Ç—É—à–∫–∞/Mobile/`)

### –ì–¥–µ —Ä–∞–±–æ—Ç–∞—Ç—å:
- **–≠–∫—Ä–∞–Ω—ã**: `app/` - —Ñ–∞–π–ª–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è Expo Router
  - `app/(auth)/` - —ç–∫—Ä–∞–Ω—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (login.tsx, register.tsx)
  - `app/(tabs)/` - –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±—ã (index.tsx, collection.tsx, search.tsx)
  - `app/record/[id].tsx` - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–ø–∏—Å–∏
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: `components/` - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  - `components/ui/` - –±–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Button, Input, Card)
  - `components/RecordCard.tsx`, `RecordGrid.tsx` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–ø–∏—Å–µ–π
- **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞**: `lib/`
  - `lib/api.ts` - API –∫–ª–∏–µ–Ω—Ç (Axios)
  - `lib/store.ts` - Zustand stores (–≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
  - `lib/types.ts` - TypeScript —Ç–∏–ø—ã
- **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã**: `constants/theme.ts` - —Ç–µ–º–∞ –∏ —Å—Ç–∏–ª–∏

### –ó–∞–ø—É—Å–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (Expo Go):
```bash
cd "/Users/vladislavrumancev/Desktop/Cursor/–í–µ—Ä—Ç—É—à–∫–∞/Mobile"
npm install          # –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm start            # –∏–ª–∏ npx expo start --clear
```

**–í–∞–∂–Ω–æ**: 
- –í `lib/api.ts` –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∫—à–µ–Ω API (`https://api.vinyl-vertushka.ru/api`) –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ Expo Go
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è timeout 60 —Å–µ–∫—É–Ω–¥ (–≤–º–µ—Å—Ç–æ 30) –¥–ª—è –¥–æ–ª–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Discogs API
- Endpoints –∏—Å–ø–æ–ª—å–∑—É—é—Ç trailing slashes (`/collections/`, `/wishlists/`) –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –±—ç–∫–µ–Ω–¥–æ–º

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º:
–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –≤ `lib/api.ts`:
```typescript
const API_BASE_URL = __DEV__ 
  ? 'http://192.168.1.66:8000/api'  // –¢–≤–æ–π –ª–æ–∫–∞–ª—å–Ω—ã–π IP
  : 'https://api.vinyl-vertushka.ru/api';
```

---

## üîÑ –¢–∏–ø–∏—á–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±—ç–∫–µ–Ω–¥–∞:
```bash
cd –í–µ—Ä—Ç—É—à–∫–∞/Backend
# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—à—å —Ñ–∞–π–ª—ã –≤ app/api/, app/models/, app/schemas/
# –¢–µ—Å—Ç–∏—Ä—É–µ—à—å –ª–æ–∫–∞–ª—å–Ω–æ
uvicorn app.main:app --reload
```

### 2. –î–µ–ø–ª–æ–π –±—ç–∫–µ–Ω–¥–∞:
```bash
# –ö–æ–º–º–∏—Ç–∏—à—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "feat: –¥–æ–±–∞–≤–∏–ª –Ω–æ–≤—É—é —Ñ–∏—á—É"
# –ü—É—à–∏—à—å –∏ –¥–µ–ø–ª–æ–∏—à—å
git push && ssh deploy@85.198.85.12 'cd ~/vertushka && bash –í–µ—Ä—Ç—É—à–∫–∞/Backend/scripts/deploy.sh'
```

### 3. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```bash
cd –í–µ—Ä—Ç—É—à–∫–∞/Mobile
# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—à—å —Ñ–∞–π–ª—ã –≤ app/, components/, lib/
# –ó–∞–ø—É—Å–∫–∞–µ—à—å Expo
npm start
# –°–∫–∞–Ω–∏—Ä—É–µ—à—å QR –∫–æ–¥ –≤ Expo Go
```

### 4. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–µ–ª–∏–∑—É –≤ —Å—Ç–æ—Ä—ã:
```bash
cd –í–µ—Ä—Ç—É—à–∫–∞/Mobile
# –°–±–æ—Ä–∫–∞ –¥–ª—è App Store / Google Play
npx eas build --platform ios     # –¥–ª—è iOS
npx eas build --platform android # –¥–ª—è Android
```

---

## üìù –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

### Backend:
- `app/main.py` - –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `app/api/*.py` - –≤—Å–µ API endpoints
- `docker-compose.prod.yml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- `scripts/deploy.sh` - —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è

### Mobile:
- `lib/api.ts` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª–∏–µ–Ω—Ç–∞ (URL —Å–µ—Ä–≤–µ—Ä–∞)
- `app/_layout.tsx` - –∫–æ—Ä–Ω–µ–≤–æ–π layout –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `app.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Expo
- `package.json` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

---

## üéØ –ë—ã—Å—Ç—Ä–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞

| –ß—Ç–æ –¥–µ–ª–∞–µ—à—å | –ì–¥–µ —Ä–∞–±–æ—Ç–∞—Ç—å | –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ |
|------------|--------------|-----------------|
| API endpoints | `Backend/app/api/` | `uvicorn app.main:app --reload` |
| –ú–æ–¥–µ–ª–∏ –ë–î | `Backend/app/models/` | - |
| –≠–∫—Ä–∞–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | `Mobile/app/` | `cd "/Users/vladislavrumancev/Desktop/Cursor/–í–µ—Ä—Ç—É—à–∫–∞/Mobile" && npm start` |
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI | `Mobile/components/` | `cd "/Users/vladislavrumancev/Desktop/Cursor/–í–µ—Ä—Ç—É—à–∫–∞/Mobile" && npm start` |
| API –∫–ª–∏–µ–Ω—Ç | `Mobile/lib/api.ts` | - |
| –î–µ–ø–ª–æ–π –±—ç–∫–µ–Ω–¥–∞ | - | `git push && ssh deploy@85.198.85.12 'cd ~/vertushka && bash –í–µ—Ä—Ç—É—à–∫–∞/Backend/scripts/deploy.sh'` |

**‚ö†Ô∏è –í–∞–∂–Ω–æ**: –í—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–π —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—É—Ç–µ–º `/Users/vladislavrumancev/Desktop/Cursor/–í–µ—Ä—Ç—É—à–∫–∞/Mobile`. –ï—Å–ª–∏ –µ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ worktree (`~/.cursor/worktrees/`), –∏—Ö –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—É—Ç—å.

---

## üí° –ü–∞–º—è—Ç–∫–∞

1. **–ë—ç–∫–µ–Ω–¥** = `–í–µ—Ä—Ç—É—à–∫–∞/Backend/` - Python/FastAPI
2. **–§—Ä–æ–Ω—Ç–µ–Ω–¥** = `–í–µ—Ä—Ç—É—à–∫–∞/Mobile/` - React Native/Expo
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** = Expo Go –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–¥–∞–∫—à–µ–Ω API (`api.vinyl-vertushka.ru`)
4. **–î–µ–ø–ª–æ–π –±—ç–∫–µ–Ω–¥–∞** = —á–µ—Ä–µ–∑ SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä `deploy@85.198.85.12`
5. **–°–±–æ—Ä–∫–∞ –¥–ª—è —Å—Ç–æ—Ä–æ–≤** = `npx eas build` –≤ –ø–∞–ø–∫–µ Mobile
